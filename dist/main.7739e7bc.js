parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"pukg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CST=void 0;var e={SCENES:{LOAD:"LOAD",MENU:"MENU",LEVEL1:"LEVEL1"}};exports.CST=e;
},{}],"Ycqt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.LoadScene=void 0;var t=require("../CST.js");function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=f();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}function u(t,n){return!n||"object"!==e(n)&&"function"!=typeof n?c(t):n}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=function(e){i(a,Phaser.Scene);var r=s(a);function a(){return n(this,a),r.call(this,{key:t.CST.SCENES.LOAD})}return o(a,[{key:"init",value:function(){}},{key:"preload",value:function(){var t=this;this.load.image("sky","./assets/sky.png"),this.load.image("ground","./assets/ground.png"),this.load.image("platform","./assets/platform.png"),this.load.image("star","./assets/star.png"),this.load.image("bomb","./assets/bomb.png"),this.load.image("play_button","./assets/play_button.png"),this.load.image("play_icon","./assets/play_icon.png"),this.load.image("game_over","./assets/game_over.png"),this.load.spritesheet("dude","../assets/dude.png",{frameWidth:32,frameHeight:48});var e=this.add.graphics({fillStyle:{color:16777215}});this.load.on("progress",function(n){e.fillRect(0,t.game.renderer.height/2,t.game.renderer.width*n,50)})}},{key:"create",value:function(){this.scene.start(t.CST.SCENES.MENU)}}]),a}();exports.LoadScene=p;
},{"../CST.js":"pukg"}],"qGid":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MenuScene=void 0;var t=require("../CST.js");function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=s();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(t,n){return!n||"object"!==e(n)&&"function"!=typeof n?a(t):n}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=function(e){i(u,Phaser.Scene);var r=c(u);function u(){return n(this,u),r.call(this,{key:t.CST.SCENES.MENU})}return o(u,[{key:"preload",value:function(){}},{key:"create",value:function(){var e=this;this.add.image(640,360,"sky"),this.add.image(32,32,"star"),this.add.image(64,32,"star");var n=this.add.sprite(300,400,"play_icon");n.setVisible(!1);var r=this.add.image(400,400,"play_button");r.setInteractive(),r.on("pointerup",function(){e.scene.start(t.CST.SCENES.LEVEL1)}),r.on("pointerover",function(){n.setVisible(!0)}),r.on("pointerout",function(){n.setVisible(!1)})}},{key:"update",value:function(){}}]),u}();exports.MenuScene=p;
},{"../CST.js":"pukg"}],"oNuL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Level1Scene=void 0;var t=require("../CST.js");function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var s=0;s<e.length;s++){var r=e[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,s){return e&&r(t.prototype,e),s&&r(t,s),t}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function n(t){var e=c();return function(){var s,r=u(t);if(e){var i=u(this).constructor;s=Reflect.construct(r,arguments,i)}else s=r.apply(this,arguments);return h(this,s)}}function h(t,s){return!s||"object"!==e(s)&&"function"!=typeof s?l(t):s}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=function(e){a(o,Phaser.Scene);var r=n(o);function o(){var e;return s(this,o),(e=r.call(this,{key:t.CST.SCENES.LEVEL1})).levelWidth=10,e.player,e.stars,e.bombs,e.platforms,e.cursors,e.score=0,e.gameOver=!1,e.scoreText,e.gameOverIcon,e.gameOverTimer=0,e.escKey,e.lastInput=0,e.waitForInputRelease=!1,e}return i(o,[{key:"preload",value:function(){}},{key:"create",value:function(){for(var t=0;t<this.levelWidth;t++)this.add.image(640+1280*t,360,"sky");this.cameras.main.setBounds(0,0,1280*this.levelWidth,720),this.physics.world.setBounds(0,0,1280*this.levelWidth,720),this.platforms=this.physics.add.staticGroup();for(t=0;t<this.levelWidth;t++)this.platforms.create(640+1280*t,704,"ground");this.platforms.create(600,400,"platform"),this.platforms.create(50,250,"platform"),this.platforms.create(750,220,"platform"),this.player=this.physics.add.sprite(100,450,"dude"),this.player.setBounceX(0),this.player.setBounceY(.2),this.player.setCollideWorldBounds(!0),this.cameras.main.startFollow(this.player,!1,1,0),this.anims.create({key:"left",frames:this.anims.generateFrameNumbers("dude",{start:0,end:3}),frameRate:10,repeat:-1}),this.anims.create({key:"turn",frames:[{key:"dude",frame:4}],frameRate:20}),this.anims.create({key:"right",frames:this.anims.generateFrameNumbers("dude",{start:5,end:8}),frameRate:10,repeat:-1}),this.cursors=this.input.keyboard.createCursorKeys(),this.stars=this.physics.add.group({key:"star",repeat:11,setXY:{x:12,y:0,stepX:70}}),this.stars.children.iterate(function(t){t.setBounceY(Phaser.Math.FloatBetween(.4,.8))}),this.bombs=this.physics.add.group(),this.scoreText=this.add.text(16,16,"score: 0",{fontSize:"32px",fill:"#000"}),this.physics.add.collider(this.player,this.platforms),this.physics.add.collider(this.stars,this.platforms),this.physics.add.collider(this.bombs,this.platforms),this.physics.add.overlap(this.player,this.stars,this.collectStar,null,this),this.physics.add.collider(this.player,this.bombs,this.hitBomb,null,this),this.gameOverIcon=this.physics.add.sprite(300,300,"game_over"),this.gameOverIcon.setVisible(!1),this.gameOver=!1,this.escKey=this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.ESC)}},{key:"update",value:function(){if(this.escKey.isDown&&this.gameIsOver(),this.gameOver)return this.gameOverTimer++,void(this.gameOverTimer>150&&this.scene.start(t.CST.SCENES.MENU));this.gameOverTimer=0;var e=this.input.activePointer.isDown&&this.input.activePointer.position.x<100||this.cursors.left.isDown,s=this.input.activePointer.isDown&&this.input.activePointer.position.x>1180||this.cursors.right.isDown;e&&!this.waitForInputRelease?(1!=this.lastInput?(this.player.setVelocityX(-160),this.player.anims.play("left",!0)):1==this.lastInput&&this.player.body.touching.down&&this.player.setVelocityY(-330),this.lastInput=1,this.waitForInputRelease=!0):s&&!this.waitForInputRelease&&(2!=this.lastInput?(this.player.setVelocityX(160),this.player.anims.play("right",!0)):2==this.lastInput&&this.player.body.touching.down&&this.player.setVelocityY(-330),this.lastInput=2,this.waitForInputRelease=!0),e||s||(this.waitForInputRelease=!1)}},{key:"collectStar",value:function(t,e){if(e.disableBody(!0,!0),this.score+=10,this.scoreText.setText("Score: "+this.score),0===this.stars.countActive(!0)){this.stars.children.iterate(function(t){t.enableBody(!0,t.x,0,!0,!0)});var s=this.player.x<400?Phaser.Math.Between(400,800):Phaser.Math.Between(0,400),r=this.bombs.create(s,16,"bomb");r.setBounce(1),r.setCollideWorldBounds(!0),r.setVelocity(Phaser.Math.Between(-200,200),20),r.allowGravity=!1}}},{key:"hitBomb",value:function(t,e){this.gameIsOver()}},{key:"gameIsOver",value:function(){this.gameOverIcon.setVisible(!0),this.physics.pause(),this.player.setTint(16711680),this.player.anims.play("turn"),this.gameOver=!0}}]),o}();exports.Level1Scene=p;
},{"../CST.js":"pukg"}],"HJDO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.assetsDPR=void 0;var e=require("./scenes/LoadScene.js"),s=require("./scenes/MenuScene.js"),a=require("./scenes/Level1Scene.js"),t=function(e){return Math.round(2*e)/2},n={best:1,medium:.75,low:.5},o=window.devicePixelRatio*n.best,r=window.screen,c=r.width,i=r.height,d=Math.round(Math.max(c,i)*o),h=Math.round(Math.min(c,i)*o),l=t(Math.min(Math.max(h/360,1),4));exports.assetsDPR=l,console.log("DPR = ",o),console.log("assetsDPR = ",l),console.log("WIDTH = ",d),console.log("HEIGHT = ",h);var u={type:Phaser.AUTO,scale:{parent:"phaser-game",mode:Phaser.Scale.FIT,autoCenter:Phaser.Scale.CENTER_BOTH,width:d,height:h},physics:{default:"arcade",arcade:{gravity:{y:300},debug:!1}},scene:[e.LoadScene,s.MenuScene,a.Level1Scene]},M=new Phaser.Game(u);
},{"./scenes/LoadScene.js":"Ycqt","./scenes/MenuScene.js":"qGid","./scenes/Level1Scene.js":"oNuL"}]},{},["HJDO"], null)
//# sourceMappingURL=/main.7739e7bc.js.map